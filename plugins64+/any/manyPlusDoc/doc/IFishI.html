<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>IFishI Function</title>
</head>

<body>
	   <font color="#cc0033"><h1>IFishI </h1></font>
	 
	  <BR><b>Author<a href="../vcmohan.html"> V. C. Mohan</a></b>
	  <BR> Date 14 sept 2021
	  
	  
	  <p>This plugin corrects fish eye, Barrel  or Pin Cushion type distortions in 
	  an image that result in due to camera lens projecting image on to
	  a flat film or sensor array. Distortion from use of very wide angle lens is termed fisheye ( The
	  distortions due to perspective are not compensated by this plugin. For
	   correcting perspective distortion one need to use
	    Reform function of this plugin.)	
		For fisheye processing "Altera" Manipal dot net in their 2008 paper was considered.  
		In the test mode a  distorted matrix of dots is overlain on the specified frame. These will be along lines which will be corrected. Best fit parameters can be arrived at. </p>
		<p> Ten methods of processing are available. These are:-
		<br>. 1. correction of barrel type distortion
		<br>. 2. correction of pin cushion type distortion
		<br>. 3. Correction of fish eye distortion with Orthoganal formulation output
		<br>. 4. Correction of fish eye distortion with Linear 	formulation output
		<br>. 5. Correction of fish eye distortion with Equi Solid formulation	output
		<br>. 6. Correction of fish eye distortion with Panoramic formulation 	output	
		<br>. 7. Intoduce  fish eye distortion with Orthoganal formulation 
		<br>. 8. Intoduce  fish eye distortion with Linear 	formulation 
		<br>. 9. Intoduce  fish eye distortion with Equi Solid formulation	
		<br>. 10. Intoduce  fish eye distortion with Panoramic formulation 
		</P>		
	  <P><b>Input formats RGB, Y or YUV444 (no subsampling)only are acceptable.All bit depths are handled. This function is Thread safe. MT_NICE_FILTER</b></P>
	  <P> .
	  These parameters mainly depend upon the lens of the camera, focal length of lens 
	  and size of image.</p> 
	  
	  
	  <BR> Prior to correction there may be need to add borders while after correction one may need to crop image at the edges.
	  

<table border="2" bordercolorlight="#c0c0c0" bordercolordark="#000000">

<caption align="top">Details of parameters </caption>
<tr>
       <td><b>Description</b></td>
       <td><b>Name</b></td>
       <td><b>Type</b></td>
       <td><b>Limits</b></td>
       <td><b>Default</b></td>
</tr>
<tr>
       <td>Input clip </td>
       <td></td>
       <td>clip</td>
       <td>RGB or planar YUV444 or Y format only</td>
       <td>none</td>
</tr>

<tr>
       <td>image center x coordinate</td>
       <td>xo</td>
       <td>int</td>
       <td>can be outside frame.</td>
       <td>frame width / 2</td>
</tr>
<tr>
       <td>image center y coordinate</td>
       <td>yo</td>
       <td>int</td>
       <td>can be outside frame.</td>
       <td>frame height / 2</td>
</tr>
<tr>
       <td>type of interpolation</td>
       <td>q</td>
       <td>int</td>
       <td>1. manipal scheme, 2. bilinear, 3. bicubic and 4. lanczos 6x6.</td>
       <td>1</td>
</tr>
<tr>
       <td>whether in test mode</td>
       <td>test</td>
       <td>Boolean</td>
       <td>true for test, false for normal</td>
       <td>false</td>
</tr>
<tr>
       <td>density of dots in test mode </td>
       <td>dots</td>
       <td>Int</td>
       <td>1 to 4</td>
       <td>2</td>	   
</tr>
<tr>
       <td>type of correction scheme</td>
       <td>method</td>
       <td>Int</td>
       <td>1 to 10</td>
       <td>5</td>
	   
</tr>

<tr>
       <td>dim factor for ease of viewing over the image in test mode</td>
       <td>dim</td>
       <td>float</td>
       <td>between  0.0 and 1.0</td>
       <td>0.5</td>
</tr>

<tr>
       <td>correction coefficient </td>
       <td>fk</td>
       <td>float</td>
       <td>positive value usually between 2.0 and 3.0</td>
       <td>2.5</td>
</tr>
<tr>
       <td>refraction coefficient </td>
       <td>rix</td>
       <td>float</td>
       <td>positive value  between 1.0 and 1.5</td>
       <td>1.15</td>
</tr>

<tr>
       <td>diameter of fisheye image</td>
       <td>fdia</td>
       <td>integer</td>
       <td>between 128 and value to ensure at least part of fish is in frame</td>
       <td>frame width</td>
</tr>
     
</table>


<br>
<table>

<tr>
       <td><a href="../manyPlus.html">To my index page</a></td>
	   <td>down load<a href="manyPlus.7z">movePlus </a>plugin</td>
       <td><a href="http://www.avisynth.nl">To Avisynth</a> </td>
</tr>
</table>
</body>
</html>

